<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laptop Support System</title>
    <link rel="stylesheet" href="css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #2B3467, #1A1F3D);
            --secondary-gradient: linear-gradient(135deg, #4E31AA, #2B3467);
            --accent-gradient: linear-gradient(135deg, #BAD7E9, #FCFFE7);
            --text-primary: #FCFFE7;
            --text-secondary: #BAD7E9;
            --card-bg: rgba(43, 52, 103, 0.5);
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            padding-bottom: 60px;
            position: relative;
            color: var(--text-primary);
            perspective: 1000px;
        }

        .navbar {
            background: var(--primary-gradient);
            padding: 1.2rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            animation: navbarSlideDown 0.5s ease-out;
            transform-style: preserve-3d;
            position: relative;
        }

        @keyframes navbarSlideDown {
            from {
                transform: translateY(-100%) rotateX(90deg);
            }
            to {
                transform: translateY(0) rotateX(0);
            }
        }

        .title {
            font-size: 1.8rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            animation: titlePop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes titlePop {
            0% { transform: scale(0); }
            70% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .contribute-btn {
            background: var(--accent-gradient);
            color: #2B3467;
            padding: 0.8rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transform-style: preserve-3d;
            transform: translateZ(20px);
        }

        .contribute-btn:hover {
            transform: translateY(-2px) translateZ(30px) rotateX(10deg);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .info-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            animation: sectionFadeIn 0.8s ease-out;
        }

        @keyframes sectionFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .info-card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(186, 215, 233, 0.1);
            transform-style: preserve-3d;
            transition: transform 0.4s ease;
            animation: cardFloat 3s ease-in-out infinite;
        }

        .info-card:hover {
            transform: translateZ(30px) rotateX(5deg) rotateY(5deg);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .info-card h2 {
            color: var(--text-primary);
            font-size: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transform-style: preserve-3d;
        }

        .info-card h2 i {
            background: var(--secondary-gradient);
            padding: 0.8rem;
            border-radius: 12px;
            font-size: 1.2rem;
            transform: translateZ(20px);
            animation: iconSpin 6s linear infinite;
        }

        @keyframes iconSpin {
            100% { transform: translateZ(20px) rotateY(360deg); }
        }

        .info-item {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            padding: 0.8rem;
            background: rgba(186, 215, 233, 0.05);
            border-radius: 12px;
            transition: all 0.3s;
            transform-style: preserve-3d;
        }

        .info-item:hover {
            background: rgba(186, 215, 233, 0.1);
            transform: translateX(5px) translateZ(10px);
        }

        .info-item i {
            margin-right: 1.5rem;
            color: var(--text-secondary);
            font-size: 1.2rem;
            width: 1.5em;
            transform: translateZ(15px);
        }

        .action-section {
            padding: 2rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            transform-style: preserve-3d;
        }

        .action-btn {
            padding: 1rem 3rem;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transform-style: preserve-3d;
        }

        .optimize-btn {
            background: var(--secondary-gradient);
            color: var(--text-primary);
        }

        .drivers-btn {
            background: var(--accent-gradient);
            color: #2B3467;
        }

        .action-btn:hover {
            transform: translateY(-3px) translateZ(20px) rotateX(10deg);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 31, 61, 0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
            perspective: 1000px;
        }

        .modal-content {
            background: var(--card-bg);
            padding: 3rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(186, 215, 233, 0.1);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            animation: modalPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }

        @keyframes modalPop {
            0% { transform: scale(0.5) rotateX(-30deg); opacity: 0; }
            100% { transform: scale(1) rotateX(0); opacity: 1; }
        }

        .progress {
            height: 8px;
            background: rgba(186, 215, 233, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 2rem;
            transform: translateZ(10px);
        }

        @keyframes progressMarquee {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-bar {
            height: 100%;
            width: 50%;
            background: var(--accent-gradient);
            border-radius: 4px;
            animation: progressMarquee 2s linear infinite;
        }

        .footer {
            background: var(--primary-gradient);
            padding: 1.5rem;
            text-align: center;
            position: absolute;
            bottom: 0;
            width: 100%;
            box-sizing: border-box;
            transform-style: preserve-3d;
            animation: footerSlideUp 0.5s ease-out;
        }

        @keyframes footerSlideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .navbar {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            .info-section {
                padding: 1rem;
            }

            .action-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="title">Laptop Support System</div>
        <a href="contribute.html" class="contribute-btn">
            <i class="fas fa-plus"></i> Contribute
        </a>
    </nav>

    <div class="info-section">
        <div class="info-card">
            <h2><i class="fas fa-industry"></i> Manufacturer Data</h2>
            <div class="info-item">
                <i class="fas fa-building"></i>
                <span id="manufacturerName">Manufacturer Name</span>
            </div>
            <div class="info-item">
                <i class="fas fa-laptop"></i>
                <span id="modelFamily">Model Family</span>
            </div>
            <div class="info-item">
                <i class="fas fa-tag"></i>
                <span id="model">Model</span>
            </div>
            <div class="info-item">
                <i class="fas fa-calendar"></i>
                <span id="productionDate">Production Date</span>
            </div>
        </div>

        <div class="info-card">
            <h2><i class="fas fa-microchip"></i> Hardware Information</h2>
            <div class="info-item">
                <i class="fas fa-microchip"></i>
                <span id="cpu">CPU</span>
            </div>
            <div class="info-item">
                <i class="fas fa-desktop"></i>
                <span id="integratedGpu">Integrated GPU</span>
            </div>
            <div class="info-item">
                <i class="fas fa-desktop"></i>
                <span id="dedicatedGpu">Dedicated GPU</span>
            </div>
            <div class="info-item">
                <i class="fas fa-memory"></i>
                <span id="ram">RAM</span>
            </div>
            <div class="info-item">
                <i class="fas fa-hdd"></i>
                <span id="storage">Storage</span>
            </div>
        </div>

        <div class="info-card">
            <h2><i class="fab fa-windows"></i> Software Information</h2>
            <div class="info-item">
                <i class="fas fa-code-branch"></i>
                <span id="windowsVersion">Windows Version</span>
            </div>
            <div class="info-item">
                <i class="fas fa-code"></i>
                <span id="buildVersion">Build Version</span>
            </div>
        </div>
    </div>

    <div class="action-section">
        <button class="action-btn optimize-btn" onclick="(async () => {
            document.getElementById('optimizeModal').style.display = 'flex';
            try {
                const response = await fetch('http://127.0.0.1:8050/optimize');
                if (!response.ok) throw new Error('Optimization failed');
                document.getElementById('optimizeModal').style.display = 'none';
                showOptimizeResult(true);
            } catch (error) {
                document.getElementById('optimizeModal').style.display = 'none';
                showOptimizeResult(false, error.message);
            }
        })()">
            <i class="fas fa-magic"></i> Optimize PC
        </button>
        <button class="action-btn drivers-btn" onclick="(async () => {
            window.location.href = 'drivers.html';
        })()">
            <i class="fas fa-download"></i> Install Drivers
        </button>
    </div>

    <div id="optimizeModal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-cog fa-spin"></i> Optimizing PC...</h2>
            <p class="modal-subtitle">This may take few minutes</p>
            <div class="progress">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>

    <div id="optimizeResultModal" class="modal">
        <div class="modal-content">
            <h2 id="optimizeResultTitle"></h2>
            <p id="optimizeResultMessage" class="modal-subtitle"></p>
            <button onclick="document.getElementById('optimizeResultModal').style.display = 'none'" class="action-btn optimize-btn" style="margin-top: 1rem;">OK</button>
        </div>
    </div>

    <div id="driversModal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-search"></i> Detecting Drivers...</h2>
            <p class="modal-subtitle">This may take few minutes</p>
            <div class="progress">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>

    <div id="notFoundModal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-exclamation-circle"></i> PC Not Registered</h2>
            <p class="modal-subtitle">Your PC is not registered in our databases, thus its drivers are not in our server. Please contribute so that we register your PC and upload its drivers to our server</p>
            <button onclick="document.getElementById('notFoundModal').style.display = 'none'" class="action-btn optimize-btn" style="margin-top: 1rem;">OK</button>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Laptop Support System. All rights reserved.</p>
    </footer>

    <script>
        function updatePCSpecs(specs) {
            document.getElementById('manufacturerName').textContent = specs.manufacturer || '';
            document.getElementById('modelFamily').textContent = specs.modelFamily || '';
            document.getElementById('model').textContent = specs.model || '';
            document.getElementById('productionDate').textContent = specs.productionDate || '';
            document.getElementById('cpu').textContent = specs.cpu || '';
            document.getElementById('integratedGpu').textContent = specs.integratedGpu || '';
            document.getElementById('dedicatedGpu').textContent = specs.dedicatedGpu || '';
            document.getElementById('ram').textContent = specs.ram || '';
            document.getElementById('storage').textContent = specs.storage || '';
            document.getElementById('windowsVersion').textContent = specs.windowsVersion || '';
            document.getElementById('buildVersion').textContent = specs.buildVersion || '';
        }

        function showOptimizeResult(success, error = "") {
            const modal = document.getElementById('optimizeResultModal');
            const title = document.getElementById('optimizeResultTitle');
            const message = document.getElementById('optimizeResultMessage');

            if (success) {
                title.innerHTML = '<i class="fas fa-check-circle"></i> Success';
                message.textContent = "Your PC is optimized successfully";
            } else {
                title.innerHTML = '<i class="fas fa-times-circle"></i> Error';
                message.textContent = "PC optimization failed with error: " + error;
            }

            modal.style.display = 'flex';
        }

        function closeDriversModal() {
            document.getElementById('driversModal').style.display = 'none';
        }

        function showNotFoundModal() {
            document.getElementById('notFoundModal').style.display = 'flex';
        }
    </script>
</body>
</html>
